;
; mash_fight.asm
;
; Created: 7/8/2023 11:40:41 AM
; Author : nashdev255
;

.include "tn2313def.inc"
.CSEG

SETUP:
	LDI R16, 0b11111111
	OUT DDRB, R16
	LDI R16, 0b11111100
	OUT DDRD, R16

RESET:
	LDI R16, 0b00010000
	OUT PORTB, R16

JUDGE:
	IN R16, PIND
	ANDI R16, 0b00000001
	BREQ HIT
	RJMP JUDGE

CARRYJUDGE:
	CPI R18, 0b00011010
	BREQ CARRYUP
	CPI R18, 0b00111001
	BREQ CARRYDOWN
	RJMP JUDGE ; PINDの状態確認ラベル
	RET

CARRYUP:
	ORI R18, 0b00110000
	RJMP CARRYJUDGE

CARRYDOWN:
	ANDI R18, 0b00011111
	RJMP CARRYJUDGE